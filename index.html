<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
<link rel="stylesheet" href="./style.css">

</head>
<body>
<!-- partial:index.partial.html -->
<div class="wrap">

  <p>
  </p>
  <p>

  </p>
</div>


<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.3.4/lib/darkmode-js.min.js"></script>
<!-- partial -->
  <script  src="./script.js"></script>

</body>

<!DOCTYPE html>
<html>
    
</body>
</html>
<header>
<link href="https://vjs.zencdn.net/7.2.3/video-js.css" rel="stylesheet">
<script src="https://unpkg.com/videojs-contrib-hls@5.15.0/dist/videojs-contrib-hls.js"></script>
<script src="https://vjs.zencdn.net/7.2.3/video.js"></script>
<script src="https://vjs.zencdn.net/7.20.3/video.min.js"></script>
<script src="https://vjs.zencdn.net/ie8/1.1.2/videojs-ie8.min.js"></script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script>
let arr = [
    { name: "TVONE", value: "http://rr2.dens.tv/s/s105/index3.m3u8"},
      { name: "KOMPAS", value: "http://rr2.dens.tv/s/s104/index10.m3u8"},
      { name: "BERITA SATU", value: "http://b1news.beritasatumedia.com/Beritasatu/B1News_1280x720.m3u8"},
      { name: "SCTV", value: "http://rr2.dens.tv/s/s03/index.m3u8"},
      { name: "INDOSIAR", value: "http://rr2.dens.tv/s/s04/index.m3u8"},
      { name: "TRANS7", value: "https://video.detik.com/trans7/smil:trans7.smil/chunklist_w1569758602_b744100_sleng.m3u8"},
      { name: "TRANSTV", value: "https://video.detik.com/transtv/smil:transtv.smil/chunklist_w1561775419_b744100_sleng.m3u8"},
      { name: "NET", value: "http://rr2.dens.tv/s/s08/index10.m3u8"},
      { name: "ANTV", value: "http://rr2.dens.tv/s/s07/index3.m3u8"},
      { name: "OCHANNEL", value: "http://rr2.dens.tv/s/s41/index.m3u8"},
      { name: "TVRI", value: "http://rr2.dens.tv/s/s11/index10.m3u8"},
      { name: "KIX", value: "http://rr1.dens.tv/h/h07/index.m3u8"},
      { name: "FIGHTSPORT", value: "http://rr1.dens.tv/h/h05/index.m3u8"},
];

function parse_query_string(query) {
  var vars = query.split("&");
  var query_string = {};
  for (var i = 0; i < vars.length; i++) {
    var pair = vars[i].split("=");
    var key = decodeURIComponent(pair.shift());
    var value = decodeURIComponent(pair.join("="));
    // If first entry with this name
    if (typeof query_string[key] === "undefined") {
      query_string[key] = value;
      // If second entry with this name
    } else if (typeof query_string[key] === "string") {
      var arr = [query_string[key], value];
      query_string[key] = arr;
      // If third or later entry with this name
    } else {
      query_string[key].push(value);
    }
  }
  return query_string;
}

$(document.body).on('change',"#selectChannel",function (e) {
   var optVal= $("#selectChannel option:selected").val();
   console.log(optVal);
   window.location.replace("?channel="+optVal); 
})

$(function() {
	var query = window.location.search.substring(1);
	var qs = parse_query_string(query);
	<!-- console.log("qs: " + qs); -->
	var cn = 'TVONE';
	if(qs.hasOwnProperty('channel')) {
		<!-- console.log("channel: " + qs.channel); -->
		cn = qs.channel;
	}
	let obj = arr.find(o => o.name === cn);
	<!-- console.log(obj); -->
	document.title= 'Watch ' + obj.name + ' free by Nguyen Huy';
	document.getElementById("tvsource").src=obj.value;
	document.getElementById("selectChannel").value=obj.name;
	var player = videojs('tvplay');
	player.play();
	
});
</script>
</header>
<body>
<center id="maintv">
<video id='tvplay' class="video-js" width="1000" height="550" controls autoplay muted>
<source id='tvsource' type="application/x-mpegURL">
</video>
</center>
<p align="center">Pilihin gen cing:
<select id='selectChannel'>
  <option value="TVONE">TVONE</option>
      <option value="KOMPAS">KOMPAS</option>
      <option value="BERITA SATU ">BERITA SATU</option>
      <option value="SCTV">SCTV</option>
      <option value="INDOSIAR">INDOSIAR</option>
      <option value="TRANS7">TRANS7</option>	
      <option value="TRANSTV">TRANSTV</option>
      <option value="NET">NET</option>
      <option value="ANTV">ANTV</option>
      <option value="OCHANNEL">OCHANNEL</option>	
      <option value="TVRI">TVRI</option>
      <option value="KIX">KIX</option>
      <option value="FIGHTSPORT">FIGHTSPORT</option>
     
   
</select>
 
<center><script type="text/javascript" src="https://www.counters-free.net/count/bsdf"></script><br></center>


</html>
</p>
</body>
